import{g as zt,aS as wt,aT as Ii,p as li,t as ci,_ as Bi,az as zi,aU as Wi,aV as Gi,aW as Vi,q as qi,al as Ui,an as $i,y as Ki,H as Qi,av as ji}from"./menu-C7ohIs4k.js";var Ee,ze,Qt,Dt,st,Tt,St,dt,pe="transform",Wt=pe+"Origin",Si,Mi=function(e){var n=e.ownerDocument||e;for(!(pe in e.style)&&("msTransform"in e.style)&&(pe="msTransform",Wt=pe+"Origin");n.parentNode&&(n=n.parentNode););if(ze=window,St=new Ge,n){Ee=n,Qt=n.documentElement,Dt=n.body,dt=Ee.createElementNS("http://www.w3.org/2000/svg","g"),dt.style.transform="none";var i=n.createElement("div"),o=n.createElement("div"),a=n&&(n.body||n.firstElementChild);a&&a.appendChild&&(a.appendChild(i),i.appendChild(o),i.style.position="static",i.style.transform="translate3d(0,0,1px)",Si=o.offsetParent!==i,a.removeChild(i))}return n},Zi=function(e){for(var n,i;e&&e!==Dt;)i=e._gsap,i&&i.uncache&&i.get(e,"x"),i&&!i.scaleX&&!i.scaleY&&i.renderTransform&&(i.scaleX=i.scaleY=1e-4,i.renderTransform(1,i),n?n.push(i):n=[i]),e=e.parentNode;return n},Di=[],Ci=[],Ji=function(){return ze.pageYOffset||Ee.scrollTop||Qt.scrollTop||Dt.scrollTop||0},en=function(){return ze.pageXOffset||Ee.scrollLeft||Qt.scrollLeft||Dt.scrollLeft||0},jt=function(e){return e.ownerSVGElement||((e.tagName+"").toLowerCase()==="svg"?e:null)},tn=function s(e){if(ze.getComputedStyle(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},Xt=function s(e,n){if(e.parentNode&&(Ee||Mi(e))){var i=jt(e),o=i?i.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",a=i?n?"rect":"g":"div",d=n!==2?0:100,c=n===3?100:0,y={position:"absolute",display:"block",pointerEvents:"none",margin:"0",padding:"0"},f=Ee.createElementNS?Ee.createElementNS(o.replace(/^https/,"http"),a):Ee.createElement(a);return n&&(i?(Tt||(Tt=s(e)),f.setAttribute("width",.01),f.setAttribute("height",.01),f.setAttribute("transform","translate("+d+","+c+")"),f.setAttribute("fill","transparent"),Tt.appendChild(f)):(st||(st=s(e),Object.assign(st.style,y)),Object.assign(f.style,y,{width:"0.1px",height:"0.1px",top:c+"px",left:d+"px"}),st.appendChild(f))),f}throw"Need document and parent."},nn=function(e){for(var n=new Ge,i=0;i<e.numberOfItems;i++)n.multiply(e.getItem(i).matrix);return n},on=function(e){var n=e.getCTM(),i;return n||(i=e.style[pe],e.style[pe]="none",e.appendChild(dt),n=dt.getCTM(),e.removeChild(dt),i?e.style[pe]=i:e.style.removeProperty(pe.replace(/([A-Z])/g,"-$1").toLowerCase())),n||St.clone()},rn=function(e,n){var i=jt(e),o=e===i,a=i?Di:Ci,d=e.parentNode,c=d&&!i&&d.shadowRoot&&d.shadowRoot.appendChild?d.shadowRoot:d,y,f,p,w,m,t;if(e===ze)return e;if(a.length||a.push(Xt(e,1),Xt(e,2),Xt(e,3)),y=i?Tt:st,i)o?(p=on(e),w=-p.e/p.a,m=-p.f/p.d,f=St):e.getBBox?(p=e.getBBox(),f=e.transform?e.transform.baseVal:{},f=f.numberOfItems?f.numberOfItems>1?nn(f):f.getItem(0).matrix:St,w=f.a*p.x+f.c*p.y,m=f.b*p.x+f.d*p.y):(f=new Ge,w=m=0),(o||!e.getBoundingClientRect().width?i:d).appendChild(y),y.setAttribute("transform","matrix("+f.a+","+f.b+","+f.c+","+f.d+","+(f.e+w)+","+(f.f+m)+")");else{if(w=m=0,Si)for(f=e.offsetParent,p=e;p&&(p=p.parentNode)&&p!==f&&p.parentNode;)(ze.getComputedStyle(p)[pe]+"").length>4&&(w=p.offsetLeft,m=p.offsetTop,p=0);if(t=ze.getComputedStyle(e),t.position!=="absolute"&&t.position!=="fixed")for(f=e.offsetParent;d&&d!==f;)w+=d.scrollLeft||0,m+=d.scrollTop||0,d=d.parentNode;p=y.style,p.top=e.offsetTop-m+"px",p.left=e.offsetLeft-w+"px",p[pe]=t[pe],p[Wt]=t[Wt],p.position=t.position==="fixed"?"fixed":"absolute",c.appendChild(y)}return y},Ot=function(e,n,i,o,a,d,c){return e.a=n,e.b=i,e.c=o,e.d=a,e.e=d,e.f=c,e},Ge=(function(){function s(n,i,o,a,d,c){n===void 0&&(n=1),i===void 0&&(i=0),o===void 0&&(o=0),a===void 0&&(a=1),d===void 0&&(d=0),c===void 0&&(c=0),Ot(this,n,i,o,a,d,c)}var e=s.prototype;return e.inverse=function(){var i=this.a,o=this.b,a=this.c,d=this.d,c=this.e,y=this.f,f=i*d-o*a||1e-10;return Ot(this,d/f,-o/f,-a/f,i/f,(a*y-d*c)/f,-(i*y-o*c)/f)},e.multiply=function(i){var o=this.a,a=this.b,d=this.c,c=this.d,y=this.e,f=this.f,p=i.a,w=i.c,m=i.b,t=i.d,v=i.e,P=i.f;return Ot(this,p*o+m*d,p*a+m*c,w*o+t*d,w*a+t*c,y+v*o+P*d,f+v*a+P*c)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.equals=function(i){var o=this.a,a=this.b,d=this.c,c=this.d,y=this.e,f=this.f;return o===i.a&&a===i.b&&d===i.c&&c===i.d&&y===i.e&&f===i.f},e.apply=function(i,o){o===void 0&&(o={});var a=i.x,d=i.y,c=this.a,y=this.b,f=this.c,p=this.d,w=this.e,m=this.f;return o.x=a*c+d*f+w||0,o.y=a*y+d*p+m||0,o},s})();function Be(s,e,n,i){if(!s||!s.parentNode||(Ee||Mi(s)).documentElement===s)return new Ge;var o=Zi(s),a=jt(s),d=a?Di:Ci,c=rn(s),y=d[0].getBoundingClientRect(),f=d[1].getBoundingClientRect(),p=d[2].getBoundingClientRect(),w=c.parentNode,m=tn(s),t=new Ge((f.left-y.left)/100,(f.top-y.top)/100,(p.left-y.left)/100,(p.top-y.top)/100,y.left+(m?0:en()),y.top+(m?0:Ji()));if(w.removeChild(c),o)for(y=o.length;y--;)f=o[y],f.scaleX=f.scaleY=0,f.renderTransform(1,f);return e?t.inverse():t}function di(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function sn(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}var M,N,re,ge,Se,Yt,_e,Gt,at,ke,Pi,Vt,ht,Zt,lt,oe,ct,_t,Li,qt,Mt=0,ki=function(){return typeof window<"u"},Ri=function(){return M||ki()&&(M=window.gsap)&&M.registerPlugin&&M},Le=function(e){return typeof e=="function"},ut=function(e){return typeof e=="object"},he=function(e){return typeof e>"u"},Et=function(){return!1},ft="transform",Ut="transformOrigin",J=function(e){return Math.round(e*1e4)/1e4},rt=Array.isArray,vt=function(e,n){var i=re.createElementNS?re.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),e):re.createElement(e);return i.style?i:re.createElement(e)},ui=180/Math.PI,He=1e20,an=new Ge,Pe=Date.now||function(){return new Date().getTime()},We=[],Ke={},ln=0,cn=/^(?:a|input|textarea|button|select)$/i,fi=0,qe={},Te={},Ai=function(e,n){var i={},o;for(o in e)i[o]=n?e[o]*n:e[o];return i},dn=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},hi=function s(e,n){for(var i=e.length,o;i--;)n?e[i].style.touchAction=n:e[i].style.removeProperty("touch-action"),o=e[i].children,o&&o.length&&s(o,n)},Ni=function(){return We.forEach(function(e){return e()})},un=function(e){We.push(e),We.length===1&&M.ticker.add(Ni)},pi=function(){return!We.length&&M.ticker.remove(Ni)},gi=function(e){for(var n=We.length;n--;)We[n]===e&&We.splice(n,1);M.to(pi,{overwrite:!0,delay:15,duration:0,onComplete:pi,data:"_draggable"})},fn=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},q=function(e,n,i,o){if(e.addEventListener){var a=ht[n];o=o||(Pi?{passive:!1}:null),e.addEventListener(a||n,i,o),a&&n!==a&&e.addEventListener(n,i,o)}},W=function(e,n,i,o){if(e.removeEventListener){var a=ht[n];e.removeEventListener(a||n,i,o),a&&n!==a&&e.removeEventListener(n,i,o)}},ce=function(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},hn=function(e,n){for(var i=e.length;i--;)if(e[i].identifier===n)return!0},pn=function s(e){Zt=e.touches&&Mt<e.touches.length,W(e.target,"touchend",s)},mi=function(e){Zt=e.touches&&Mt<e.touches.length,q(e.target,"touchend",pn)},Qe=function(e){return N.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},je=function(e){return N.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},xi=function s(e,n){q(e,"scroll",n),Ze(e.parentNode)||s(e.parentNode,n)},yi=function s(e,n){W(e,"scroll",n),Ze(e.parentNode)||s(e.parentNode,n)},Ze=function(e){return!e||e===ge||e.nodeType===9||e===re.body||e===N||!e.nodeType||!e.parentNode},wi=function(e,n){var i=n==="x"?"Width":"Height",o="scroll"+i,a="client"+i;return Math.max(0,Ze(e)?Math.max(ge[o],Se[o])-(N["inner"+i]||ge[a]||Se[a]):e[o]-e[a])},Ft=function s(e,n){var i=wi(e,"x"),o=wi(e,"y");Ze(e)?e=Te:s(e.parentNode,n),e._gsMaxScrollX=i,e._gsMaxScrollY=o,n||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)},Ht=function(e,n,i){var o=e.style;o&&(he(o[n])&&(n=at(n,e)||n),i==null?o.removeProperty&&o.removeProperty(n.replace(/([A-Z])/g,"-$1").toLowerCase()):o[n]=i)},pt=function(e){return N.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},Ie={},Ue=function(e){if(e===N)return Ie.left=Ie.top=0,Ie.width=Ie.right=ge.clientWidth||e.innerWidth||Se.clientWidth||0,Ie.height=Ie.bottom=(e.innerHeight||0)-20<ge.clientHeight?ge.clientHeight:e.innerHeight||Se.clientHeight||0,Ie;var n=e.ownerDocument||re,i=he(e.pageX)?!e.nodeType&&!he(e.left)&&!he(e.top)?e:ke(e)[0].getBoundingClientRect():{left:e.pageX-je(n),top:e.pageY-Qe(n),right:e.pageX-je(n)+1,bottom:e.pageY-Qe(n)+1};return he(i.right)&&!he(i.width)?(i.right=i.left+i.width,i.bottom=i.top+i.height):he(i.width)&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i},I=function(e,n,i){var o=e.vars,a=o[i],d=e._listeners[n],c;return Le(a)&&(c=a.apply(o.callbackScope||e,o[i+"Params"]||[e.pointerEvent])),d&&e.dispatchEvent(n)===!1&&(c=!1),c},vi=function(e,n){var i=ke(e)[0],o,a,d;return!i.nodeType&&i!==N?he(e.left)?(a=e.min||e.minX||e.minRotation||0,o=e.min||e.minY||0,{left:a,top:o,width:(e.max||e.maxX||e.maxRotation||0)-a,height:(e.max||e.maxY||0)-o}):(d={x:0,y:0},{left:e.left-d.x,top:e.top-d.y,width:e.width,height:e.height}):gn(i,n)},de={},gn=function(e,n){n=ke(n)[0];var i=e.getBBox&&e.ownerSVGElement,o=e.ownerDocument||re,a,d,c,y,f,p,w,m,t,v,P,j,X;if(e===N)c=Qe(o),a=je(o),d=a+(o.documentElement.clientWidth||e.innerWidth||o.body.clientWidth||0),y=c+((e.innerHeight||0)-20<o.documentElement.clientHeight?o.documentElement.clientHeight:e.innerHeight||o.body.clientHeight||0);else{if(n===N||he(n))return e.getBoundingClientRect();a=c=0,i?(v=e.getBBox(),P=v.width,j=v.height):(e.viewBox&&(v=e.viewBox.baseVal)&&(a=v.x||0,c=v.y||0,P=v.width,j=v.height),P||(X=pt(e),v=X.boxSizing==="border-box",P=(parseFloat(X.width)||e.clientWidth||0)+(v?0:parseFloat(X.borderLeftWidth)+parseFloat(X.borderRightWidth)),j=(parseFloat(X.height)||e.clientHeight||0)+(v?0:parseFloat(X.borderTopWidth)+parseFloat(X.borderBottomWidth)))),d=P,y=j}return e===n?{left:a,top:c,width:d-a,height:y-c}:(f=Be(n,!0).multiply(Be(e)),p=f.apply({x:a,y:c}),w=f.apply({x:d,y:c}),m=f.apply({x:d,y}),t=f.apply({x:a,y}),a=Math.min(p.x,w.x,m.x,t.x),c=Math.min(p.y,w.y,m.y,t.y),{left:a,top:c,width:Math.max(p.x,w.x,m.x,t.x)-a,height:Math.max(p.y,w.y,m.y,t.y)-c})},It=function(e,n,i,o,a,d){var c={},y,f,p;if(n)if(a!==1&&n instanceof Array){if(c.end=y=[],p=n.length,ut(n[0]))for(f=0;f<p;f++)y[f]=Ai(n[f],a);else for(f=0;f<p;f++)y[f]=n[f]*a;i+=1.1,o-=1.1}else Le(n)?c.end=function(w){var m=n.call(e,w),t,v;if(a!==1)if(ut(m)){t={};for(v in m)t[v]=m[v]*a;m=t}else m*=a;return m}:c.end=n;return(i||i===0)&&(c.max=i),(o||o===0)&&(c.min=o),d&&(c.velocity=0),c},mn=function s(e){var n;return!e||!e.getAttribute||e===Se?!1:(n=e.getAttribute("data-clickable"))==="true"||n!=="false"&&(cn.test(e.nodeName+"")||e.getAttribute("contentEditable")==="true")?!0:s(e.parentNode)},bt=function(e,n){for(var i=e.length,o;i--;)o=e[i],o.ondragstart=o.onselectstart=n?null:Et,M.set(o,{lazy:!0,userSelect:n?"text":"none"})},xn=function s(e){if(pt(e).position==="fixed")return!0;if(e=e.parentNode,e&&e.nodeType===1)return s(e)},Xi,$t,yn=function(e,n){e=M.utils.toArray(e)[0],n=n||{};var i=document.createElement("div"),o=i.style,a=e.firstChild,d=0,c=0,y=e.scrollTop,f=e.scrollLeft,p=e.scrollWidth,w=e.scrollHeight,m=0,t=0,v=0,P,j,X,Re,Ae,Ne;Xi&&n.force3D!==!1?(Ae="translate3d(",Ne="px,0px)"):ft&&(Ae="translate(",Ne="px)"),this.scrollTop=function(L,te){if(!arguments.length)return-this.top();this.top(-L,te)},this.scrollLeft=function(L,te){if(!arguments.length)return-this.left();this.left(-L,te)},this.left=function(L,te){if(!arguments.length)return-(e.scrollLeft+c);var F=e.scrollLeft-f,C=c;if((F>2||F<-2)&&!te){f=e.scrollLeft,M.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-f),n.onKill&&n.onKill();return}L=-L,L<0?(c=L-.5|0,L=0):L>t?(c=L-t|0,L=t):c=0,(c||C)&&(this._skip||(o[ft]=Ae+-c+"px,"+-d+Ne),c+m>=0&&(o.paddingRight=c+m+"px")),e.scrollLeft=L|0,f=e.scrollLeft},this.top=function(L,te){if(!arguments.length)return-(e.scrollTop+d);var F=e.scrollTop-y,C=d;if((F>2||F<-2)&&!te){y=e.scrollTop,M.killTweensOf(this,{top:1,scrollTop:1}),this.top(-y),n.onKill&&n.onKill();return}L=-L,L<0?(d=L-.5|0,L=0):L>v?(d=L-v|0,L=v):d=0,(d||C)&&(this._skip||(o[ft]=Ae+-c+"px,"+-d+Ne)),e.scrollTop=L|0,y=e.scrollTop},this.maxScrollTop=function(){return v},this.maxScrollLeft=function(){return t},this.disable=function(){for(a=i.firstChild;a;)Re=a.nextSibling,e.appendChild(a),a=Re;e===i.parentNode&&e.removeChild(i)},this.enable=function(){if(a=e.firstChild,a!==i){for(;a;)Re=a.nextSibling,i.appendChild(a),a=Re;e.appendChild(i),this.calibrate()}},this.calibrate=function(L){var te=e.clientWidth===P,F,C,we;y=e.scrollTop,f=e.scrollLeft,!(te&&e.clientHeight===j&&i.offsetHeight===X&&p===e.scrollWidth&&w===e.scrollHeight&&!L)&&((d||c)&&(C=this.left(),we=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),F=pt(e),(!te||L)&&(o.display="block",o.width="auto",o.paddingRight="0px",m=Math.max(0,e.scrollWidth-e.clientWidth),m&&(m+=parseFloat(F.paddingLeft)+($t?parseFloat(F.paddingRight):0))),o.display="inline-block",o.position="relative",o.overflow="visible",o.verticalAlign="top",o.boxSizing="content-box",o.width="100%",o.paddingRight=m+"px",$t&&(o.paddingBottom=F.paddingBottom),P=e.clientWidth,j=e.clientHeight,p=e.scrollWidth,w=e.scrollHeight,t=e.scrollWidth-P,v=e.scrollHeight-j,X=i.offsetHeight,o.display="block",(C||we)&&(this.left(C),this.top(we)))},this.content=i,this.element=e,this._skip=!1,this.enable()},Bt=function(e){if(ki()&&document.body){var n=window&&window.navigator;N=window,re=document,ge=re.documentElement,Se=re.body,Yt=vt("div"),_t=!!window.PointerEvent,_e=vt("div"),_e.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",ct=_e.style.cursor==="grab"?"grab":"move",lt=n&&n.userAgent.toLowerCase().indexOf("android")!==-1,Vt="ontouchstart"in ge&&"orientation"in N||n&&(n.MaxTouchPoints>0||n.msMaxTouchPoints>0),$t=(function(){var i=vt("div"),o=vt("div"),a=o.style,d=Se,c;return a.display="inline-block",a.position="relative",i.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",i.appendChild(o),d.appendChild(i),c=o.offsetHeight+18>i.scrollHeight,d.removeChild(i),c})(),ht=(function(i){for(var o=i.split(","),a=("onpointerdown"in Yt?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in Yt?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":i).split(","),d={},c=4;--c>-1;)d[o[c]]=a[c],d[a[c]]=o[c];try{ge.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Pi=1}}))}catch{}return d})("touchstart,touchmove,touchend,touchcancel"),q(re,"touchcancel",Et),q(N,"touchmove",Et),Se&&Se.addEventListener("touchstart",Et),q(re,"contextmenu",function(){for(var i in Ke)Ke[i].isPressed&&Ke[i].endDrag()}),M=Gt=Ri()}M?(oe=M.plugins.inertia,Li=M.core.context||function(){},at=M.utils.checkPrefix,ft=at(ft),Ut=at(Ut),ke=M.utils.toArray,qt=M.core.getStyleSaver,Xi=!!at("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},wn=(function(){function s(n){this._listeners={},this.target=n||this}var e=s.prototype;return e.addEventListener=function(i,o){var a=this._listeners[i]||(this._listeners[i]=[]);~a.indexOf(o)||a.push(o)},e.removeEventListener=function(i,o){var a=this._listeners[i],d=a&&a.indexOf(o);d>=0&&a.splice(d,1)},e.dispatchEvent=function(i){var o=this,a;return(this._listeners[i]||[]).forEach(function(d){return d.call(o,{type:i,target:o.target})===!1&&(a=!1)}),a},s})(),Je=(function(s){sn(e,s);function e(n,i){var o;o=s.call(this)||this,Gt||Bt(1),n=ke(n)[0],o.styles=qt&&qt(n,"transform,left,top"),oe||(oe=M.plugins.inertia),o.vars=i=Ai(i||{}),o.target=n,o.x=o.y=o.rotation=0,o.dragResistance=parseFloat(i.dragResistance)||0,o.edgeResistance=isNaN(i.edgeResistance)?1:parseFloat(i.edgeResistance)||0,o.lockAxis=i.lockAxis,o.autoScroll=i.autoScroll||0,o.lockedAxis=null,o.allowEventDefault=!!i.allowEventDefault,M.getProperty(n,"x");var a=(i.type||"x,y").toLowerCase(),d=~a.indexOf("x")||~a.indexOf("y"),c=a.indexOf("rotation")!==-1,y=c?"rotation":d?"x":"left",f=d?"y":"top",p=!!(~a.indexOf("x")||~a.indexOf("left")||a==="scroll"),w=!!(~a.indexOf("y")||~a.indexOf("top")||a==="scroll"),m=i.minimumMovement||2,t=di(o),v=ke(i.trigger||i.handle||n),P={},j=0,X=!1,Re=i.autoScrollMarginTop||40,Ae=i.autoScrollMarginRight||40,Ne=i.autoScrollMarginBottom||40,L=i.autoScrollMarginLeft||40,te=i.clickableTest||mn,F=0,C=n._gsap||M.core.getCache(n),we=xn(n),Ve=function(r,u){return parseFloat(C.get(n,r,u))},k=n.ownerDocument||re,ve,_,me,xe,$,G,Xe,Jt,ei,Y,O,V,B,gt,se,et,U,Ct,Me,De,Oe,tt,K,S,ti,ae,ue,Pt,Lt,ii,ie,ni,mt,oi=function(r){return ce(r),r.stopImmediatePropagation&&r.stopImmediatePropagation(),!1},ye=function T(r){if(t.autoScroll&&t.isDragging&&(X||U)){var u=n,l=t.autoScroll*15,h,g,x,E,b,R,D,A;for(X=!1,Te.scrollTop=N.pageYOffset!=null?N.pageYOffset:k.documentElement.scrollTop!=null?k.documentElement.scrollTop:k.body.scrollTop,Te.scrollLeft=N.pageXOffset!=null?N.pageXOffset:k.documentElement.scrollLeft!=null?k.documentElement.scrollLeft:k.body.scrollLeft,E=t.pointerX-Te.scrollLeft,b=t.pointerY-Te.scrollTop;u&&!g;)g=Ze(u.parentNode),h=g?Te:u.parentNode,x=g?{bottom:Math.max(ge.clientHeight,N.innerHeight||0),right:Math.max(ge.clientWidth,N.innerWidth||0),left:0,top:0}:h.getBoundingClientRect(),R=D=0,w&&(A=h._gsMaxScrollY-h.scrollTop,A<0?D=A:b>x.bottom-Ne&&A?(X=!0,D=Math.min(A,l*(1-Math.max(0,x.bottom-b)/Ne)|0)):b<x.top+Re&&h.scrollTop&&(X=!0,D=-Math.min(h.scrollTop,l*(1-Math.max(0,b-x.top)/Re)|0)),D&&(h.scrollTop+=D)),p&&(A=h._gsMaxScrollX-h.scrollLeft,A<0?R=A:E>x.right-Ae&&A?(X=!0,R=Math.min(A,l*(1-Math.max(0,x.right-E)/Ae)|0)):E<x.left+L&&h.scrollLeft&&(X=!0,R=-Math.min(h.scrollLeft,l*(1-Math.max(0,E-x.left)/L)|0)),R&&(h.scrollLeft+=R)),g&&(R||D)&&(N.scrollTo(h.scrollLeft,h.scrollTop),ot(t.pointerX+R,t.pointerY+D)),u=h}if(U){var H=t.x,Z=t.y;c?(t.deltaX=H-parseFloat(C.rotation),t.rotation=H,C.rotation=H+"deg",C.renderTransform(1,C)):_?(w&&(t.deltaY=Z-_.top(),_.top(Z)),p&&(t.deltaX=H-_.left(),_.left(H))):d?(w&&(t.deltaY=Z-parseFloat(C.y),C.y=Z+"px"),p&&(t.deltaX=H-parseFloat(C.x),C.x=H+"px"),C.renderTransform(1,C)):(w&&(t.deltaY=Z-parseFloat(n.style.top||0),n.style.top=Z+"px"),p&&(t.deltaX=H-parseFloat(n.style.left||0),n.style.left=H+"px")),Jt&&!r&&!Pt&&(Pt=!0,I(t,"drag","onDrag")===!1&&(p&&(t.x-=t.deltaX),w&&(t.y-=t.deltaY),T(!0)),Pt=!1)}U=!1},Ye=function(r,u){var l=t.x,h=t.y,g,x;n._gsap||(C=M.core.getCache(n)),C.uncache&&M.getProperty(n,"x"),d?(t.x=parseFloat(C.x),t.y=parseFloat(C.y)):c?t.x=t.rotation=J(parseFloat(C.rotation)):_?(t.y=_.top(),t.x=_.left()):(t.y=parseFloat(n.style.top||(x=pt(n))&&x.top)||0,t.x=parseFloat(n.style.left||(x||{}).left)||0),(Me||De||Oe)&&!u&&(t.isDragging||t.isThrowing)&&(Oe&&(qe.x=t.x,qe.y=t.y,g=Oe(qe),g.x!==t.x&&(t.x=g.x,U=!0),g.y!==t.y&&(t.y=g.y,U=!0)),Me&&(g=Me(t.x),g!==t.x&&(t.x=g,c&&(t.rotation=g),U=!0)),De&&(g=De(t.y),g!==t.y&&(t.y=g),U=!0)),U&&ye(!0),r||(t.deltaX=t.x-l,t.deltaY=t.y-h,I(t,"throwupdate","onThrowUpdate"))},kt=function(r,u,l,h){return u==null&&(u=-He),l==null&&(l=He),Le(r)?function(g){var x=t.isPressed?1-t.edgeResistance:1;return r.call(t,(g>l?l+(g-l)*x:g<u?u+(g-u)*x:g)*h)*h}:rt(r)?function(g){for(var x=r.length,E=0,b=He,R,D;--x>-1;)R=r[x],D=R-g,D<0&&(D=-D),D<b&&R>=u&&R<=l&&(E=x,b=D);return r[E]}:isNaN(r)?function(g){return g}:function(){return r*h}},Oi=function(r,u,l,h,g,x,E){return x=x&&x<He?x*x:He,Le(r)?function(b){var R=t.isPressed?1-t.edgeResistance:1,D=b.x,A=b.y,H,Z,be;return b.x=D=D>l?l+(D-l)*R:D<u?u+(D-u)*R:D,b.y=A=A>g?g+(A-g)*R:A<h?h+(A-h)*R:A,H=r.call(t,b),H!==b&&(b.x=H.x,b.y=H.y),E!==1&&(b.x*=E,b.y*=E),x<He&&(Z=b.x-D,be=b.y-A,Z*Z+be*be>x&&(b.x=D,b.y=A)),b}:rt(r)?function(b){for(var R=r.length,D=0,A=He,H,Z,be,le;--R>-1;)be=r[R],H=be.x-b.x,Z=be.y-b.y,le=H*H+Z*Z,le<A&&(D=R,A=le);return A<=x?r[D]:b}:function(b){return b}},Rt=function(){var r,u,l,h;Xe=!1,_?(_.calibrate(),t.minX=O=-_.maxScrollLeft(),t.minY=B=-_.maxScrollTop(),t.maxX=Y=t.maxY=V=0,Xe=!0):i.bounds&&(r=vi(i.bounds,n.parentNode),c?(t.minX=O=r.left,t.maxX=Y=r.left+r.width,t.minY=B=t.maxY=V=0):!he(i.bounds.maxX)||!he(i.bounds.maxY)?(r=i.bounds,t.minX=O=r.minX,t.minY=B=r.minY,t.maxX=Y=r.maxX,t.maxY=V=r.maxY):(u=vi(n,n.parentNode),t.minX=O=Math.round(Ve(y,"px")+r.left-u.left),t.minY=B=Math.round(Ve(f,"px")+r.top-u.top),t.maxX=Y=Math.round(O+(r.width-u.width)),t.maxY=V=Math.round(B+(r.height-u.height))),O>Y&&(t.minX=Y,t.maxX=Y=O,O=t.minX),B>V&&(t.minY=V,t.maxY=V=B,B=t.minY),c&&(t.minRotation=O,t.maxRotation=Y),Xe=!0),i.liveSnap&&(l=i.liveSnap===!0?i.snap||{}:i.liveSnap,h=rt(l)||Le(l),c?(Me=kt(h?l:l.rotation,O,Y,1),De=null):l.points?Oe=Oi(h?l:l.points,O,Y,B,V,l.radius,_?-1:1):(p&&(Me=kt(h?l:l.x||l.left||l.scrollLeft,O,Y,_?-1:1)),w&&(De=kt(h?l:l.y||l.top||l.scrollTop,B,V,_?-1:1))))},Yi=function(){t.isThrowing=!1,I(t,"throwcomplete","onThrowComplete")},Fi=function(){t.isThrowing=!1},At=function(r,u){var l,h,g,x;r&&oe?(r===!0&&(l=i.snap||i.liveSnap||{},h=rt(l)||Le(l),r={resistance:(i.throwResistance||i.resistance||1e3)/(c?10:1)},c?r.rotation=It(t,h?l:l.rotation,Y,O,1,u):(p&&(r[y]=It(t,h?l:l.points||l.x||l.left,Y,O,_?-1:1,u||t.lockedAxis==="x")),w&&(r[f]=It(t,h?l:l.points||l.y||l.top,V,B,_?-1:1,u||t.lockedAxis==="y")),(l.points||rt(l)&&ut(l[0]))&&(r.linkedProps=y+","+f,r.radius=l.radius))),t.isThrowing=!0,x=isNaN(i.overshootTolerance)?i.edgeResistance===1?0:1-t.edgeResistance+.2:i.overshootTolerance,r.duration||(r.duration={max:Math.max(i.minDuration||0,"maxDuration"in i?i.maxDuration:2),min:isNaN(i.minDuration)?x===0||ut(r)&&r.resistance>1e3?0:.5:i.minDuration,overshoot:x}),t.tween=g=M.to(_||n,{inertia:r,data:"_draggable",inherit:!1,onComplete:Yi,onInterrupt:Fi,onUpdate:i.fastMode?I:Ye,onUpdateParams:i.fastMode?[t,"onthrowupdate","onThrowUpdate"]:l&&l.radius?[!1,!0]:[]}),i.fastMode||(_&&(_._skip=!0),g.render(1e9,!0,!0),Ye(!0,!0),t.endX=t.x,t.endY=t.y,c&&(t.endRotation=t.x),g.play(0),Ye(!0,!0),_&&(_._skip=!1))):Xe&&t.applyBounds()},ri=function(r){var u=S,l;S=Be(n.parentNode,!0),r&&t.isPressed&&!S.equals(u||new Ge)&&(l=u.inverse().apply({x:me,y:xe}),S.apply(l,l),me=l.x,xe=l.y),S.equals(an)&&(S=null)},xt=function(){var r=1-t.edgeResistance,u=we?je(k):0,l=we?Qe(k):0,h,g,x;d&&(C.x=Ve(y,"px")+"px",C.y=Ve(f,"px")+"px",C.renderTransform()),ri(!1),de.x=t.pointerX-u,de.y=t.pointerY-l,S&&S.apply(de,de),me=de.x,xe=de.y,U&&(ot(t.pointerX,t.pointerY),ye(!0)),ni=Be(n),_?(Rt(),G=_.top(),$=_.left()):(it()?(Ye(!0,!0),Rt()):t.applyBounds(),c?(h=n.ownerSVGElement?[C.xOrigin-n.getBBox().x,C.yOrigin-n.getBBox().y]:(pt(n)[Ut]||"0 0").split(" "),et=t.rotationOrigin=Be(n).apply({x:parseFloat(h[0])||0,y:parseFloat(h[1])||0}),Ye(!0,!0),g=t.pointerX-et.x-u,x=et.y-t.pointerY+l,$=t.x,G=t.y=Math.atan2(x,g)*ui):(G=Ve(f,"px"),$=Ve(y,"px"))),Xe&&r&&($>Y?$=Y+($-Y)/r:$<O&&($=O-(O-$)/r),c||(G>V?G=V+(G-V)/r:G<B&&(G=B-(B-G)/r))),t.startX=$=J($),t.startY=G=J(G)},it=function(){return t.tween&&t.tween.isActive()},Hi=function(){_e.parentNode&&!it()&&!t.isDragging&&_e.parentNode.removeChild(_e)},nt=function(r,u){var l;if(!ve||t.isPressed||!r||(r.type==="mousedown"||r.type==="pointerdown")&&!u&&Pe()-F<30&&ht[t.pointerEvent.type]){ie&&r&&ve&&ce(r);return}if(ti=it(),mt=!1,t.pointerEvent=r,ht[r.type]?(K=~r.type.indexOf("touch")?r.currentTarget||r.target:k,q(K,"touchend",fe),q(K,"touchmove",Fe),q(K,"touchcancel",fe),q(k,"touchstart",mi)):(K=null,q(k,"mousemove",Fe)),ue=null,(!_t||!K)&&(q(k,"mouseup",fe),r&&r.target&&q(r.target,"mouseup",fe)),tt=te.call(t,r.target)&&i.dragClickables===!1&&!u,tt){q(r.target,"change",fe),I(t,"pressInit","onPressInit"),I(t,"press","onPress"),bt(v,!0),ie=!1;return}if(ae=!K||p===w||t.vars.allowNativeTouchScrolling===!1||t.vars.allowContextMenu&&r&&(r.ctrlKey||r.which>2)?!1:p?"y":"x",ie=!ae&&!t.allowEventDefault,ie&&(ce(r),q(N,"touchforcechange",ce)),r.changedTouches?(r=gt=r.changedTouches[0],se=r.identifier):r.pointerId?se=r.pointerId:gt=se=null,Mt++,un(ye),xe=t.pointerY=r.pageY,me=t.pointerX=r.pageX,I(t,"pressInit","onPressInit"),(ae||t.autoScroll)&&Ft(n.parentNode),n.parentNode&&t.autoScroll&&!_&&!c&&n.parentNode._gsMaxScrollX&&!_e.parentNode&&!n.getBBox&&(_e.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(_e)),xt(),t.tween&&t.tween.kill(),t.isThrowing=!1,M.killTweensOf(_||n,P,!0),_&&M.killTweensOf(n,{scrollTo:1},!0),t.tween=t.lockedAxis=null,(i.zIndexBoost||!c&&!_&&i.zIndexBoost!==!1)&&(n.style.zIndex=e.zIndex++),t.isPressed=!0,Jt=!!(i.onDrag||t._listeners.drag),ei=!!(i.onMove||t._listeners.move),i.cursor!==!1||i.activeCursor)for(l=v.length;--l>-1;)M.set(v[l],{cursor:i.activeCursor||i.cursor||(ct==="grab"?"grabbing":ct)});I(t,"press","onPress"),oe&&oe.track(_||n,d?"x,y":c?"rotation":"top,left")},Fe=function(r){var u=r,l,h,g,x,E,b;if(!ve||Zt||!t.isPressed||!r){ie&&r&&ve&&ce(r);return}if(t.pointerEvent=r,l=r.changedTouches,l){if(r=l[0],r!==gt&&r.identifier!==se){for(x=l.length;--x>-1&&(r=l[x]).identifier!==se&&r.target!==n;);if(x<0)return}}else if(r.pointerId&&se&&r.pointerId!==se)return;if(K&&ae&&!ue&&(de.x=r.pageX-(we?je(k):0),de.y=r.pageY-(we?Qe(k):0),S&&S.apply(de,de),h=de.x,g=de.y,E=Math.abs(h-me),b=Math.abs(g-xe),(E!==b&&(E>m||b>m)||lt&&ae===ue)&&(ue=E>b&&p?"x":"y",ae&&ue!==ae&&q(N,"touchforcechange",ce),t.vars.lockAxisOnTouchScroll!==!1&&p&&w&&(t.lockedAxis=ue==="x"?"y":"x",Le(t.vars.onLockAxis)&&t.vars.onLockAxis.call(t,u)),lt&&ae===ue))){fe(u);return}!t.allowEventDefault&&(!ae||ue&&ae!==ue)&&u.cancelable!==!1?(ce(u),ie=!0):ie&&(ie=!1),t.autoScroll&&(X=!0),ot(r.pageX,r.pageY,ei)},ot=function(r,u,l){var h=1-t.dragResistance,g=1-t.edgeResistance,x=t.pointerX,E=t.pointerY,b=G,R=t.x,D=t.y,A=t.endX,H=t.endY,Z=t.endRotation,be=U,le,Ce,Q,z,Nt,ne;t.pointerX=r,t.pointerY=u,we&&(r-=je(k),u-=Qe(k)),c?(z=J(Math.atan2(et.y-u,r-et.x)*ui),Nt=t.y-z,Nt>180?(G-=360,t.y=z):Nt<-180&&(G+=360,t.y=z),S&&(ne=r*S.a+u*S.c+S.e,u=r*S.b+u*S.d+S.f,r=ne),t.x!==$||Math.max(Math.abs(me-r),Math.abs(xe-u))>m?(t.y=z,Q=J($+(G-z)*h)):Q=$):(S&&(ne=r*S.a+u*S.c+S.e,u=r*S.b+u*S.d+S.f,r=ne),Ce=u-xe,le=r-me,Ce<m&&Ce>-m&&(Ce=0),le<m&&le>-m&&(le=0),(t.lockAxis||t.lockedAxis)&&(le||Ce)&&(ne=t.lockedAxis,ne||(t.lockedAxis=ne=p&&Math.abs(le)>Math.abs(Ce)?"y":w?"x":null,ne&&Le(t.vars.onLockAxis)&&t.vars.onLockAxis.call(t,t.pointerEvent)),ne==="y"?Ce=0:ne==="x"&&(le=0)),Q=J($+le*h),z=J(G+Ce*h)),(Me||De||Oe)&&(t.x!==Q||t.y!==z&&!c)&&(Oe&&(qe.x=Q,qe.y=z,ne=Oe(qe),Q=J(ne.x),z=J(ne.y)),Me&&(Q=J(Me(Q))),De&&(z=J(De(z)))),Xe&&(Q>Y?Q=Y+Math.round((Q-Y)*g):Q<O&&(Q=O+Math.round((Q-O)*g)),c||(z>V?z=Math.round(V+(z-V)*g):z<B&&(z=Math.round(B+(z-B)*g)))),(t.x!==Q||t.y!==z&&!c)&&(c?(t.endRotation=t.x=t.endX=J(Q),U=!0):(w&&(t.y=t.endY=z,U=!0),p&&(t.x=t.endX=Q,U=!0)),!l||I(t,"move","onMove")!==!1?!t.isDragging&&t.isPressed&&(t.isDragging=mt=!0,I(t,"dragstart","onDragStart")):(t.pointerX=x,t.pointerY=E,G=b,t.x=R,t.y=D,t.endX=A,t.endY=H,t.endRotation=Z,U=be))},fe=function T(r,u){if(!ve||!t.isPressed||r&&se!=null&&!u&&(r.pointerId&&r.pointerId!==se&&r.target!==n||r.changedTouches&&!hn(r.changedTouches,se))){ie&&r&&ve&&ce(r);return}t.isPressed=!1;var l=r,h=t.isDragging,g=t.vars.allowContextMenu&&r&&(r.ctrlKey||r.which>2),x=M.delayedCall(.001,Hi),E,b,R,D,A;if(K?(W(K,"touchend",T),W(K,"touchmove",Fe),W(K,"touchcancel",T),W(k,"touchstart",mi)):W(k,"mousemove",Fe),W(N,"touchforcechange",ce),(!_t||!K)&&(W(k,"mouseup",T),r&&r.target&&W(r.target,"mouseup",T)),U=!1,h&&(j=fi=Pe(),t.isDragging=!1),gi(ye),tt&&!g){r&&(W(r.target,"change",T),t.pointerEvent=l),bt(v,!1),I(t,"release","onRelease"),I(t,"click","onClick"),tt=!1;return}for(b=v.length;--b>-1;)Ht(v[b],"cursor",i.cursor||(i.cursor!==!1?ct:null));if(Mt--,r){if(E=r.changedTouches,E&&(r=E[0],r!==gt&&r.identifier!==se)){for(b=E.length;--b>-1&&(r=E[b]).identifier!==se&&r.target!==n;);if(b<0&&!u)return}t.pointerEvent=l,t.pointerX=r.pageX,t.pointerY=r.pageY}return g&&l?(ce(l),ie=!0,I(t,"release","onRelease")):l&&!h?(ie=!1,ti&&(i.snap||i.bounds)&&At(i.inertia||i.throwProps),I(t,"release","onRelease"),(!lt||l.type!=="touchmove")&&l.type.indexOf("cancel")===-1&&(I(t,"click","onClick"),Pe()-F<300&&I(t,"doubleclick","onDoubleClick"),D=l.target||n,F=Pe(),A=function(){F!==Lt&&t.enabled()&&!t.isPressed&&!l.defaultPrevented&&(D.click?D.click():k.createEvent&&(R=k.createEvent("MouseEvents"),R.initMouseEvent("click",!0,!0,N,1,t.pointerEvent.screenX,t.pointerEvent.screenY,t.pointerX,t.pointerY,!1,!1,!1,!1,0,null),D.dispatchEvent(R)))},!lt&&!l.defaultPrevented&&M.delayedCall(.05,A))):(At(i.inertia||i.throwProps),!t.allowEventDefault&&l&&(i.dragClickables!==!1||!te.call(t,l.target))&&h&&(!ae||ue&&ae===ue)&&l.cancelable!==!1?(ie=!0,ce(l)):ie=!1,I(t,"release","onRelease")),it()&&x.duration(t.tween.duration()),h&&I(t,"dragend","onDragEnd"),!0},yt=function(r){if(r&&t.isDragging&&!_){var u=r.target||n.parentNode,l=u.scrollLeft-u._gsScrollX,h=u.scrollTop-u._gsScrollY;(l||h)&&(S?(me-=l*S.a+h*S.c,xe-=h*S.d+l*S.b):(me-=l,xe-=h),u._gsScrollX+=l,u._gsScrollY+=h,ot(t.pointerX,t.pointerY))}},si=function(r){var u=Pe(),l=u-F<100,h=u-j<50,g=l&&Lt===F,x=t.pointerEvent&&t.pointerEvent.defaultPrevented,E=l&&ii===F,b=r.isTrusted||r.isTrusted==null&&l&&g;if((g||h&&t.vars.suppressClickOnDrag!==!1)&&r.stopImmediatePropagation&&r.stopImmediatePropagation(),l&&!(t.pointerEvent&&t.pointerEvent.defaultPrevented)&&(!g||b&&!E)){b&&g&&(ii=F),Lt=F;return}(t.isPressed||h||l)&&(!b||!r.detail||!l||x)&&ce(r),!l&&!h&&!mt&&(r&&r.target&&(t.pointerEvent=r),I(t,"click","onClick"))},ai=function(r){return S?{x:r.x*S.a+r.y*S.c+S.e,y:r.x*S.b+r.y*S.d+S.f}:{x:r.x,y:r.y}};return Ct=e.get(n),Ct&&Ct.kill(),o.startDrag=function(T,r){var u,l,h,g;nt(T||t.pointerEvent,!0),r&&!t.hitTest(T||t.pointerEvent)&&(u=Ue(T||t.pointerEvent),l=Ue(n),h=ai({x:u.left+u.width/2,y:u.top+u.height/2}),g=ai({x:l.left+l.width/2,y:l.top+l.height/2}),me-=h.x-g.x,xe-=h.y-g.y),t.isDragging||(t.isDragging=mt=!0,I(t,"dragstart","onDragStart"))},o.drag=Fe,o.endDrag=function(T){return fe(T||t.pointerEvent,!0)},o.timeSinceDrag=function(){return t.isDragging?0:(Pe()-j)/1e3},o.timeSinceClick=function(){return(Pe()-F)/1e3},o.hitTest=function(T,r){return e.hitTest(t.target,T,r)},o.getDirection=function(T,r){var u=T==="velocity"&&oe?T:ut(T)&&!c?"element":"start",l,h,g,x,E,b;return u==="element"&&(E=Ue(t.target),b=Ue(T)),l=u==="start"?t.x-$:u==="velocity"?oe.getVelocity(n,y):E.left+E.width/2-(b.left+b.width/2),c?l<0?"counter-clockwise":"clockwise":(r=r||2,h=u==="start"?t.y-G:u==="velocity"?oe.getVelocity(n,f):E.top+E.height/2-(b.top+b.height/2),g=Math.abs(l/h),x=g<1/r?"":l<0?"left":"right",g<r&&(x!==""&&(x+="-"),x+=h<0?"up":"down"),x)},o.applyBounds=function(T,r){var u,l,h,g,x,E;if(T&&i.bounds!==T)return i.bounds=T,t.update(!0,r);if(Ye(!0),Rt(),Xe&&!it()){if(u=t.x,l=t.y,u>Y?u=Y:u<O&&(u=O),l>V?l=V:l<B&&(l=B),(t.x!==u||t.y!==l)&&(h=!0,t.x=t.endX=u,c?t.endRotation=u:t.y=t.endY=l,U=!0,ye(!0),t.autoScroll&&!t.isDragging))for(Ft(n.parentNode),g=n,Te.scrollTop=N.pageYOffset!=null?N.pageYOffset:k.documentElement.scrollTop!=null?k.documentElement.scrollTop:k.body.scrollTop,Te.scrollLeft=N.pageXOffset!=null?N.pageXOffset:k.documentElement.scrollLeft!=null?k.documentElement.scrollLeft:k.body.scrollLeft;g&&!E;)E=Ze(g.parentNode),x=E?Te:g.parentNode,w&&x.scrollTop>x._gsMaxScrollY&&(x.scrollTop=x._gsMaxScrollY),p&&x.scrollLeft>x._gsMaxScrollX&&(x.scrollLeft=x._gsMaxScrollX),g=x;t.isThrowing&&(h||t.endX>Y||t.endX<O||t.endY>V||t.endY<B)&&At(i.inertia||i.throwProps,h)}return t},o.update=function(T,r,u){if(r&&t.isPressed){if(c)t.x=t.y=J(parseFloat(C.rotation));else{var l=Be(n),h=ni.apply({x:t.x-$,y:t.y-G}),g=Be(n.parentNode,!0);g.apply({x:l.e-h.x,y:l.f-h.y},h),t.x=J(t.x-(h.x-g.e)),t.y=J(t.y-(h.y-g.f))}ye(!0),xt()}var x=t.x,E=t.y;return ri(!r),T?t.applyBounds():(U&&u&&ye(!0),Ye(!0)),r&&(ot(t.pointerX,t.pointerY),U&&ye(!0)),t.isPressed&&!r&&(p&&Math.abs(x-t.x)>.01||w&&Math.abs(E-t.y)>.01&&!c)&&xt(),t.autoScroll&&(Ft(n.parentNode,t.isDragging),X=t.isDragging,ye(!0),yi(n,yt),xi(n,yt)),t},o.enable=function(T){var r={lazy:!0},u,l,h;if(i.cursor!==!1&&(r.cursor=i.cursor||ct),M.utils.checkPrefix("touchCallout")&&(r.touchCallout="none"),T!=="soft"){for(hi(v,p===w?"none":i.allowNativeTouchScrolling&&n.scrollHeight===n.clientHeight==(n.scrollWidth===n.clientHeight)||i.allowEventDefault?"manipulation":p?"pan-y":"pan-x"),l=v.length;--l>-1;)h=v[l],_t||q(h,"mousedown",nt),q(h,"touchstart",nt),q(h,"click",si,!0),M.set(h,r),h.getBBox&&h.ownerSVGElement&&p!==w&&M.set(h.ownerSVGElement,{touchAction:i.allowNativeTouchScrolling||i.allowEventDefault?"manipulation":p?"pan-y":"pan-x"}),i.allowContextMenu||q(h,"contextmenu",oi);bt(v,!1)}return xi(n,yt),ve=!0,oe&&T!=="soft"&&oe.track(_||n,d?"x,y":c?"rotation":"top,left"),n._gsDragID=u=n._gsDragID||"d"+ln++,Ke[u]=t,_&&(_.enable(),_.element._gsDragID=u),(i.bounds||c)&&xt(),i.bounds&&t.applyBounds(),t},o.disable=function(T){for(var r=t.isDragging,u=v.length,l;--u>-1;)Ht(v[u],"cursor",null);if(T!=="soft"){for(hi(v,null),u=v.length;--u>-1;)l=v[u],Ht(l,"touchCallout",null),W(l,"mousedown",nt),W(l,"touchstart",nt),W(l,"click",si,!0),W(l,"contextmenu",oi);bt(v,!0),K&&(W(K,"touchcancel",fe),W(K,"touchend",fe),W(K,"touchmove",Fe)),W(k,"mouseup",fe),W(k,"mousemove",Fe)}return yi(n,yt),ve=!1,oe&&T!=="soft"&&(oe.untrack(_||n,d?"x,y":c?"rotation":"top,left"),t.tween&&t.tween.kill()),_&&_.disable(),gi(ye),t.isDragging=t.isPressed=tt=!1,r&&I(t,"dragend","onDragEnd"),t},o.enabled=function(T,r){return arguments.length?T?t.enable(r):t.disable(r):ve},o.kill=function(){return t.isThrowing=!1,t.tween&&t.tween.kill(),t.disable(),M.set(v,{clearProps:"userSelect"}),delete Ke[n._gsDragID],t},o.revert=function(){this.kill(),this.styles&&this.styles.revert()},~a.indexOf("scroll")&&(_=o.scrollProxy=new yn(n,dn({onKill:function(){t.isPressed&&fe(null)}},i)),n.style.overflowY=w&&!Vt?"auto":"hidden",n.style.overflowX=p&&!Vt?"auto":"hidden",n=_.content),c?P.rotation=1:(p&&(P[y]=1),w&&(P[f]=1)),C.force3D="force3D"in i?i.force3D:!0,Li(di(o)),o.enable(),o}return e.register=function(i){M=i,Bt()},e.create=function(i,o){return Gt||Bt(!0),ke(i).map(function(a){return new e(a,o)})},e.get=function(i){return Ke[(ke(i)[0]||{})._gsDragID]},e.timeSinceDrag=function(){return(Pe()-fi)/1e3},e.hitTest=function(i,o,a){if(i===o)return!1;var d=Ue(i),c=Ue(o),y=d.top,f=d.left,p=d.right,w=d.bottom,m=d.width,t=d.height,v=c.left>p||c.right<f||c.top>w||c.bottom<y,P,j,X;return v||!a?!v:(X=(a+"").indexOf("%")!==-1,a=parseFloat(a)||0,P={left:Math.max(f,c.left),top:Math.max(y,c.top)},P.width=Math.min(p,c.right)-P.left,P.height=Math.min(w,c.bottom)-P.top,P.width<0||P.height<0?!1:X?(a*=.01,j=P.width*P.height,j>=m*t*a||j>=c.width*c.height*a):P.width>a&&P.height>a)},e})(wn);fn(Je.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});Je.zIndex=1e3;Je.version="3.14.2";Ri()&&M.registerPlugin(Je);zt.registerPlugin(Je);function vn(){const s=document.querySelector(".timeline"),e=document.querySelector(".scroller"),n=document.querySelector(".horizontal-container");if(!s||!e||!n){console.warn("horizontalScroll: missing required DOM elements",{timeline:s,scroller:e,container:n});return}const i=parseInt(window.getComputedStyle(document.body).fontSize)||16;function o(){let m=document.getElementById("horizontal-spacer");m||(m=document.createElement("div"),m.id="horizontal-spacer",m.style.width="1px",m.style.pointerEvents="none",document.body.appendChild(m));const v=Math.max(0,n.scrollWidth-window.innerWidth)+window.innerHeight;m.style.height=v+"px"}function a(m=50){if(!s.querySelector(".marker"))for(let t=0;t<m;t++){const v=document.createElement("div");v.classList.add("marker"),s.appendChild(v)}}a(50),o();function d(){return{timelineWidth:s.offsetWidth,scrollerWidth:e.offsetWidth,maxDragX:Math.max(0,s.offsetWidth-e.offsetWidth-2*i),maxContainerScroll:Math.max(0,n.scrollWidth-window.innerWidth),totalScrollHeight:Math.max(1,document.documentElement.scrollHeight-window.innerHeight)}}let c=d();Je.create(e,{type:"x",bounds:{minX:i,maxX:c.maxDragX+i},onDrag:function(){const m=(this.x-i)/c.maxDragX;p(f(m,0,1))}});function y(){c=d();const m=f(window.scrollY/c.totalScrollHeight,0,1);p(m);const t=i+m*c.maxDragX;zt.to(e,{x:t,duration:.1,overwrite:"auto"})}function f(m,t,v){return Math.min(v,Math.max(t,m))}function p(m){const t=-c.maxContainerScroll*m;zt.to(n,{x:t,duration:.15,ease:"power2.out",overwrite:"auto"})}typeof wt<"u"&&wt&&typeof wt.on=="function"?wt.on("scroll",()=>{y()}):window.addEventListener("scroll",y,{passive:!0});let w;window.addEventListener("resize",()=>{clearTimeout(w),w=setTimeout(()=>{o(),c=d(),y()},120)}),y()}document.addEventListener("DOMContentLoaded",()=>{vn()});var bi=function(s){return Array.prototype.slice.call(s)},Ti=function(){var s=window.navigator.userAgent,e=!!s.match(/iPad/i)||!!s.match(/iPhone/i),n=!!s.match(/WebKit/i);return e&&n&&!s.match(/CriOS/i)},bn={scale:1.5,speed:1.5,wrapperClass:null,willChange:!1,externalRAF:!1},ee=function(s,e){var n=this;if(this.element=s,this.wrapper=document.createElement("div"),this.options=Object.assign({},bn,e),this.updateOptions(),this.vh=document.documentElement.clientHeight,this.isVisible=!1,this.damp=this.calcDamp(document.documentElement.clientWidth),this.elementTagName=s.tagName.toLowerCase(),this.elementTagName==="img"){var i=s.getAttribute("src");if(!i)return;(async function(o){var a=new Image;return a.src=o,await a.decode(),a})(i).then((function(){n.createParallax()}))}else this.createParallax()};ee.prototype.createParallax=function(){this.setStyle(!0),this.wrapElement(),Ti()||this.createObserver()},ee.prototype.updateOptions=function(){var s=this.element.getAttribute("data-u-scale"),e=this.element.getAttribute("data-u-speed"),n=this.element.getAttribute("data-u-willchange");s!==null&&(this.options.scale=Number(s)),e!==null&&(this.options.speed=Number(e)),n!==null&&(this.options.willChange=!0)},ee.prototype.setStyle=function(s){s===void 0&&(s=!1);var e=this.element.clientHeight,n=this.element.clientWidth,i=window.getComputedStyle(this.element),o=i.position==="absolute",a=this.wrapper.style,d=this.element.style,c=this.options.scale;o&&i.marginRight!=="0px"&&i.marginLeft!=="0px"&&i.marginLeft===i.marginRight&&(a.margin="auto"),i.marginTop==="0px"&&i.marginBottom==="0px"||(a.marginTop=i.marginTop,a.marginBottom=i.marginBottom,d.marginTop="0",d.marginBottom="0"),i.inset!=="auto"&&(a.top=i.top,a.right=i.right,a.bottom=i.bottom,a.left=i.left,d.top="0",d.right="0",d.bottom="0",d.left="0"),i.transform!=="none"&&(a.transform=i.transform),i.zIndex!=="auto"&&(a.zIndex=i.zIndex),a.position=o?"absolute":"relative",i.gridArea!=="auto"&&i.gridArea!=="auto / auto / auto / auto"&&(a.gridArea=i.gridArea,d.gridArea="auto"),s&&(a.width="100%",a.overflow="hidden",d.display="block",d.overflow="hidden",d.backfaceVisibility="hidden",i.padding!=="0px"&&(d.padding="0"),this.elementTagName==="img"?d.objectFit="cover":this.elementTagName!=="video"&&(d.backgroundPosition="center")),i.borderRadius!=="0px"&&(a.borderRadius=i.borderRadius,a.isolation||(a.isolation="isolate"),i.marginLeft!=="0px"&&(a.marginLeft=i.marginLeft,d.marginLeft="0"),i.marginRight!=="0px"&&(a.marginRight=i.marginRight,d.marginRight="0"),a.width=n+"px"),o&&(a.width=n+"px",d.width="100%"),i.maxHeight!=="none"&&(a.maxHeight=i.maxHeight,d.maxHeight="none"),i.minHeight!=="0px"&&(a.minHeight=i.minHeight,d.minHeight="none"),d.width=n+"px",a.setProperty("height",e+"px","important"),d.setProperty("height",e*c+"px","important"),this.wrapperHeight=e,this.overflow=Math.floor(10*(e-e*c))/10},ee.prototype.wrapElement=function(){var s=this.element.getAttribute("data-u-wrapper-class")||this.options.wrapperClass;s&&this.wrapper.classList.add(s);var e=this.element.closest("picture"),n=e!==null?e:this.element,i=n.parentNode;i!==null&&i.insertBefore(this.wrapper,n),this.wrapper.appendChild(n)},ee.prototype.checkVisible=function(){var s=this.wrapper.getBoundingClientRect();s.bottom>0&&s.top<window.innerHeight?this.onEnter():this.onLeave()},ee.prototype.createObserver=function(){var s=this;this.observer=new IntersectionObserver((function(e){e[0].isIntersecting?s.onEnter():s.onLeave()}),{root:null,rootMargin:"0px",threshold:0}),this.observer.observe(this.wrapper)},ee.prototype.onEnter=function(){var s=this.element.style,e="transform";this.options.willChange&&s.willChange!==e&&(s.willChange=e),this.isVisible=!0},ee.prototype.onLeave=function(){var s=this.element;this.options.willChange&&s.style.willChange==="transform"&&(s.style.willChange=""),this.isVisible=!1},ee.prototype.calcTranslateValue=function(){var s=window.pageYOffset;s<0&&(s=0);var e=this.wrapper.getBoundingClientRect().top+s,n=(s+this.vh-e)/((this.vh+this.wrapperHeight)/100),i=Math.min(100,Math.max(0,n))/100,o=this.overflow,a=this.options.speed,d=(o*a-o)/2,c=o*(1-i)*a*this.damp-d;return Number(c.toFixed(4))},ee.prototype.calcDamp=function(s){var e=this.options.scale,n=this.options.speed;if(!(n>=1.4||e>=1.4)||!(s<=1e3))return 1;e<1&&(e=1),n<1&&(n=1);var i=1.2-(1-(s/1e3+(3-(e+n)))),o=Math.max(.5,Math.min(1,i));return Math.floor(100*o)/100},ee.prototype.applyParallax=function(){this.element.style.transform="translate3d(0 , "+this.calcTranslateValue()+"px , 0)"},ee.prototype.animate=function(){Ti()&&this.checkVisible(),window.pageYOffset<0||this.isVisible&&this.applyParallax()},ee.prototype.reset=function(){this.damp=this.calcDamp(window.innerWidth);var s=this.wrapper.style,e=this.element.style;this.vh=document.documentElement.clientHeight,s.width="",s.position="",s.height="100%",e.width="",this.elementTagName==="img"&&s.position==="absolute"&&(s.height="100%"),s.gridArea===""?e.height="":e.height="100%",s.margin!=="0px"&&(s.margin="",e.margin=""),s.inset!=="auto"&&(s.top="",s.right="",s.bottom="",s.left="",e.top="",e.right="",e.bottom="",e.left=""),s.transform!=="none"&&(s.transform="",e.transform=""),s.zIndex!=="auto"&&(s.zIndex=""),s.borderRadius!=="0px"&&(s.borderRadius="",s.isolation=""),this.setStyle(),this.applyParallax()},ee.prototype.destroy=function(){var s;this.observer&&this.observer.disconnect(),this.wrapper.removeAttribute("style"),this.element.removeAttribute("style"),(s=this.wrapper).replaceWith.apply(s,this.wrapper.childNodes)};var $e=function(s,e){if(!s)throw new Error("Argument 'elements' cannot be null.");var n,i;this.instances=[],this.externalRAF=e&&e.externalRAF||!1,this.onResizeEvent=this.resize.bind(this),n=typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1,i=typeof Element<"u"&&Element.prototype.closest,n&&i&&"IntersectionObserver"in window&&this.init((function(o){return Array.isArray(o)?o:typeof o=="string"?bi(document.querySelectorAll(o)):o instanceof HTMLElement?[o]:o instanceof NodeList||o instanceof HTMLCollection?bi(o):[o]})(s),e)};$e.prototype.init=function(s,e){this.instances=s.map((function(n){return new ee(n,e)})),this.externalRAF||this.animate(),navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)?window.addEventListener("orientationchange",this.onResizeEvent):window.addEventListener("resize",this.onResizeEvent)},$e.prototype.animate=function(){this.instances.forEach((function(s){s.animate()})),this.externalRAF||(this.requestId=window.requestAnimationFrame(this.animate.bind(this)))},$e.prototype.reset=function(){this.instances.forEach((function(s){s.reset()}))},$e.prototype.resize=function(){clearTimeout(this.timer),this.timer=window.setTimeout(this.reset.bind(this),500),this.reset.bind(this)},$e.prototype.destroy=function(){this.requestId&&window.cancelAnimationFrame(this.requestId),window.removeEventListener("resize",this.onResizeEvent),window.removeEventListener("orientationchange",this.onResizeEvent),this.instances.forEach((function(s){s.destroy()}))};let Kt=null;function _i(){window.innerWidth>=1e3&&(Kt=new $e('[data-parallax="true"] img',{scale:1.5,speed:.65,willChange:!0,wrapperClass:"ukiyo-wrapper",externalRAF:!1}))}function Tn(){Kt&&Kt.reset()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",_i):_i();window.addEventListener("resize",Tn);class Ei{constructor(){this.heroContainer=document.querySelector(".hero"),this.videoElement=document.querySelector(".hero-video"),!(!this.heroContainer||!this.videoElement)&&(this.isMobile=window.innerWidth<1e3,this.isDestroyed=!1,this.time=0,this.mouse={x:0,y:0,prevX:0,prevY:0,vX:0,vY:0},this.settings={grid:25,mouse:.25,strength:.1,relaxation:.925},this.init())}createVideoTexture(){return this.videoTexture=new Ii(this.videoElement),this.videoTexture.minFilter=li,this.videoTexture.magFilter=li,this.videoTexture.generateMipmaps=!1,this.videoTexture.wrapS=ci,this.videoTexture.wrapT=ci,this.videoTexture.flipY=!0,this.videoTexture}updateCameraAndGeometry(){this.width=this.heroContainer.offsetWidth,this.height=this.heroContainer.offsetHeight;const e=this.videoElement.videoWidth||1920,n=this.videoElement.videoHeight||1080,i=this.width/this.height,o=e/n;let a=1,d=1;i>o?d=i/o:a=o/i,this.camera=new Bi(-1,1,1,-1,.1,1e3),this.camera.position.z=1,this.planeGeometry=new zi(2*a,2*d)}createCleanGrid(){const e=this.settings.grid,n=e*e*4,i=new Float32Array(n);for(let o=3;o<n;o+=4)i[o]=255;this.dataTexture=new Wi(i,e,e,Gi,Vi),this.dataTexture.magFilter=this.dataTexture.minFilter=qi,this.material&&(this.material.uniforms.uDataTexture.value=this.dataTexture,this.material.uniforms.uDataTexture.value.needsUpdate=!0)}initializeScene(e){this.scene=new Ui,this.updateCameraAndGeometry(),this.createCleanGrid();const n=`
      varying vec2 vUv;
      void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }`,i=`
      uniform sampler2D uDataTexture;
      uniform sampler2D uTexture;
      varying vec2 vUv;
      void main() {
        vec4 offset = texture2D(uDataTexture, vUv);
        gl_FragColor = texture2D(uTexture, vUv - 0.02 * offset.rg);
      }`;this.material=new $i({uniforms:{time:{value:0},uTexture:{value:e},uDataTexture:{value:this.dataTexture}},vertexShader:n,fragmentShader:i,side:Ki}),this.planeMesh=new Qi(this.planeGeometry,this.material),this.scene.add(this.planeMesh),this.renderer=new ji({antialias:!0,alpha:!1}),this.renderer.setClearColor(0,1),this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));const o=this.renderer.domElement;o.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:auto;z-index:0",this.videoElement.style.opacity="0",this.heroContainer.appendChild(o)}updateDataTexture(){if(!this.dataTexture||this.isMobile)return;const e=this.dataTexture.image.data,n=this.settings.grid,i=this.settings.relaxation;for(let p=0;p<e.length;p+=4)e[p]*=i,e[p+1]*=i;if(Math.abs(this.mouse.vX)<.001&&Math.abs(this.mouse.vY)<.001){this.mouse.vX*=.9,this.mouse.vY*=.9,this.dataTexture.needsUpdate=!0;return}const o=n*this.mouse.x,a=n*(1-this.mouse.y),d=n*this.settings.mouse,c=d*d,y=this.height/this.width,f=this.settings.strength*100;for(let p=0;p<n;p++)for(let w=0;w<n;w++){const m=(o-p)**2/y+(a-w)**2;if(m<c){const t=4*(p+n*w),v=Math.min(10,d/Math.sqrt(m));e[t]+=f*this.mouse.vX*v,e[t+1]-=f*this.mouse.vY*v}}this.mouse.vX*=.9,this.mouse.vY*=.9,this.dataTexture.needsUpdate=!0}handlePointerMove(e,n){if(this.isMobile)return;const i=this.heroContainer.getBoundingClientRect(),o=(e-i.left)/i.width,a=(n-i.top)/i.height;this.mouse.vX=o-this.mouse.prevX,this.mouse.vY=a-this.mouse.prevY,this.mouse.prevX=this.mouse.x,this.mouse.prevY=this.mouse.y,this.mouse.x=o,this.mouse.y=a}setupEvents(){this.isMobile||this.heroContainer.addEventListener("mousemove",n=>{this.handlePointerMove(n.clientX,n.clientY)});let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{this.isMobile=window.innerWidth<1e3,this.updateCameraAndGeometry(),this.planeMesh&&(this.planeMesh.geometry.dispose(),this.planeMesh.geometry=this.planeGeometry),this.renderer.setSize(this.width,this.height),this.createCleanGrid()},100)})}render(){this.isDestroyed||(this.time+=.05,this.updateDataTexture(),this.material.uniforms.time.value=this.time,this.videoTexture&&(this.videoTexture.needsUpdate=!0),this.renderer.render(this.scene,this.camera),requestAnimationFrame(()=>this.render()))}async init(){try{await new Promise(n=>{document.readyState==="complete"?n():window.addEventListener("load",n)}),await new Promise(n=>{this.videoElement.readyState>=2?n():this.videoElement.addEventListener("loadeddata",n)}),await new Promise(n=>setTimeout(n,100));const e=this.createVideoTexture();this.initializeScene(e),this.setupEvents(),this.render()}catch(e){console.error("Failed to initialize pixelated video effect:",e)}}destroy(){this.isDestroyed=!0,this.renderer&&this.renderer.dispose(),this.material&&this.material.dispose(),this.planeGeometry&&this.planeGeometry.dispose(),this.videoTexture&&this.videoTexture.dispose(),this.dataTexture&&this.dataTexture.dispose()}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new Ei):new Ei;
