import{g as m,D as g,l as s}from"./Draggable-BB7o2ADm.js";m.registerPlugin(g);function x(){const n=document.querySelector(".timeline"),r=document.querySelector(".scroller"),a=document.querySelector(".horizontal-container");if(!n||!r||!a){console.warn("horizontalScroll: missing required DOM elements",{timeline:n,scroller:r,container:a});return}const l=parseInt(window.getComputedStyle(document.body).fontSize)||16;function u(){let e=document.getElementById("horizontal-spacer");e||(e=document.createElement("div"),e.id="horizontal-spacer",e.style.width="1px",e.style.pointerEvents="none",document.body.appendChild(e));const i=Math.max(0,a.scrollWidth-window.innerWidth)+window.innerHeight;e.style.height=i+"px"}function w(e=50){if(!n.querySelector(".marker"))for(let t=0;t<e;t++){const i=document.createElement("div");i.classList.add("marker"),n.appendChild(i)}}w(50),u();function d(){return{timelineWidth:n.offsetWidth,scrollerWidth:r.offsetWidth,maxDragX:Math.max(0,n.offsetWidth-r.offsetWidth-2*l),maxContainerScroll:Math.max(0,a.scrollWidth-window.innerWidth),totalScrollHeight:Math.max(1,document.documentElement.scrollHeight-window.innerHeight)}}let o=d();g.create(r,{type:"x",bounds:{minX:l,maxX:o.maxDragX+l},onDrag:function(){const e=(this.x-l)/o.maxDragX;p(h(e,0,1))}});function c(){o=d();const e=h(window.scrollY/o.totalScrollHeight,0,1);p(e);const t=l+e*o.maxDragX;m.to(r,{x:t,duration:.1,overwrite:"auto"})}function h(e,t,i){return Math.min(i,Math.max(t,e))}function p(e){const t=-o.maxContainerScroll*e;m.to(a,{x:t,duration:.15,ease:"power2.out",overwrite:"auto"})}typeof s<"u"&&s&&typeof s.on=="function"?s.on("scroll",()=>{c()}):window.addEventListener("scroll",c,{passive:!0});let f;window.addEventListener("resize",()=>{clearTimeout(f),f=setTimeout(()=>{u(),o=d(),c()},120)}),c()}document.addEventListener("DOMContentLoaded",()=>{x()});
