import*as a from"https://unpkg.com/three@v0.161.0/build/three.module.js";import"https://unpkg.com/three@v0.161.0/examples/jsm/loaders/FontLoader.js";import"https://unpkg.com/three@v0.161.0/examples/jsm/geometries/TextGeometry";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();var d=function(){document.getElementById("time").innerHTML=new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata",timeStyle:"long",hourCycle:"h24"})};d();setInterval(d,1e3);var f=document.querySelectorAll(".magnetic"),u=25;f.forEach(e=>{e.addEventListener("mousemove",h),e.addEventListener("mouseout",function(t){TweenMax.to(t.currentTarget,1,{x:0,y:0,ease:Power4.easeOut})})});function h(e){var t=e.currentTarget,o=t.getBoundingClientRect();TweenMax.to(t,1,{x:((e.clientX-o.left)/t.offsetWidth-.5)*u,y:((e.clientY-o.top)/t.offsetHeight-.5)*u,ease:Power4.easeOut})}const p=new a.Scene,s=new a.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);s.position.z=5;const c=new a.WebGLRenderer({alpha:!0});c.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(c.domElement);const w=new a.FontLoader;w.load("./public/cooper-hewitt.json",function(e){const t=new a.TextGeometry("Hello",{font:e,size:.5,height:.1,curveSegments:12,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:5}),o=new a.MeshBasicMaterial({color:65280,transparent:!0,opacity:1}),i=new a.Mesh(t,o);p.add(i)});const g=function(){requestAnimationFrame(g),textMesh&&(textMesh.rotation.x+=.01,textMesh.rotation.y+=.01),c.render(p,s)};g();window.addEventListener("resize",function(){const e=window.innerWidth,t=window.innerHeight;s.aspect=e/t,s.updateProjectionMatrix(),c.setSize(e,t)});function y(){gsap.set("#overlay-bg",{autoAlpha:0})}function m(){var e=gsap.timeline({paused:!0,reversed:!0});e.to("#nav-cluster a",{ease:"power4.inOut",duration:1,x:"-100%",stagger:.07,autoAlpha:0},"<").to("#overlay-bg",{ease:"power4.inOut",duration:.75,autoAlpha:1},"<").to("#seperator",{duration:2.25,ease:"power4.inOut",stagger:.065,width:"100%"},"<"),Array.from(document.querySelectorAll(".menu-close, .menu-open")).forEach(t=>t.addEventListener("click",function(){e.reversed()?e.play():e.reverse()}))}function v(){m();var e=gsap.timeline({paused:!0,reversed:!0});const t=document.getElementById("menu");t.onclick=function(o){e.reversed(!e.reversed())}}function b(){document.querySelectorAll("[title-split]").forEach((t,o)=>{const i=new SplitType(t,{types:"chars"});gsap.from(i.chars,{y:"-100",ease:"power4.inOut",duration:2,opacity:0,stagger:.025})})}function x(){gsap.matchMedia().add("(min-width: 1000px)",()=>{gsap.to("#nav-cluster a",{duration:2,x:"-100%",stagger:.07,autoAlpha:0,scrollTrigger:{scrub:1,trigger:"#nav-cluster",start:"top",scroller:"body"}})})}function T(){gsap.matchMedia().add("(max-width: 1000px)",()=>{gsap.set("#nav-cluster a",{autoAlpha:0})})}function S(){document.querySelectorAll("[text-split]").forEach((t,o)=>{const i=new SplitType(t,{types:"words"});gsap.from(i.words,{scrollTrigger:{trigger:"#about",start:"top top",end:"bottom bottom",scrub:!0},delay:1,opacity:.2,stagger:1})})}function A(){gsap.to("#divider",{duration:2.25,ease:"power4.inOut",stagger:.065,width:"100%",scrollTrigger:{trigger:"#work",start:"top 95%"}})}function E(){gsap.from("#about-header *",{y:"100%",ease:"power4.inOut",duration:1.5,stagger:.05})}gsap.registerPlugin(ScrollTrigger);gsap.config({nullTargetWarn:!1});y();v();m();x();T();S();A();b();E();
